@model Coupon

@{
    ViewData["Title"] = "Create";
}

<h1>Create</h1>
<br />

<div class="backgroundWhiteBorder">
    <form method="post" asp-action="Create" enctype="multipart/form-data">
        <div asp-validation-summary="ModelOnly" class="text-danger"></div>
        <div class="form-group row">
            <div class="col-md-3">
                <label asp-for="Name"></label>
            </div>
            <div class="col-md-5">
                <input asp-for="Name" class="form-control" />
            </div>
            <span asp-validation-for="Name" class="text-danger"></span>
        </div>
        <div class="form-group row">
            <div class="col-md-3">
                <label asp-for="CouponType"></label>
            </div>
            <div class="col-md-5">
                <select asp-for="CouponType" asp-items="Html.GetEnumSelectList<Coupon.ECouponType>()" class="form-control"></select>
            </div>
        </div>
        <div class="form-group row">
            <div class="col-md-3">
                <label asp-for="MinimumAmount"></label>
            </div>
            <div class="col-md-5">
                <input asp-for="MinimumAmount" type="number" class="form-control" />
            </div>
            <span asp-validation-for="MinimumAmount" class="text-danger"></span>
        </div>
        <div class="form-group row">
            <div class="col-md-3">
                <label asp-for="Discount"></label>
            </div>
            <div class="col-md-5">
                <input asp-for="Discount" class="form-control" />
            </div>
            <span asp-validation-for="Discount" class="text-danger"></span>
        </div>
        <div class="form-group row">
            <div class="col-md-3">
                <label asp-for="ImgSrc"></label>
            </div>
            <div class="col-md-5">
                <ul class="nav nav-tabs">
                    <li class="nav-item border-bottom-0">
                        <button type="button" id="UpFileTab" class="nav-link active" onclick="openTab('#UpFileTab', '#UpFile')">Up file</button>
                    </li>
                    <li class="nav-item border-bottom-0">
                        <button type="button" id="UrlImgTab" class="nav-link" onclick="openTab('#UrlImgTab', '#UrlImg')">URL img</button>
                    </li>
                </ul>
                <div id="UpFile" class="tab_content border">
                    <input type="file" multiple name="file" class="form-control imgsrc_input" />
                </div>
                <div id="UrlImg" class="tab_content border" style="display:none">
                    <input asp-for="ImgSrc" class="form-control imgsrc_input" Placeholder="URL image" />
                </div>
            </div>
        </div>
        <div class="form-group row">
            <div class="col-md-3">
                <label asp-for="IsActive"></label>
            </div>
            <div class="col-md-5">
                <input type="checkbox" asp-for="IsActive" class="form-control" />
            </div>
        </div>
        <div class="form-group row ">
            <div class="col-5 offset-3">
                <partial name="_CreateAndBackToListButton" />
            </div>
        </div>
    </form>
</div>

@section Scripts{
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
    <script>
        function openTab(idEvt, idContent) {$(".tab_content").hide();$("button.active").removeClass("active");$(idContent).show();$(idEvt).addClass("active");$(".imgsrc_input").val('');};
    </script>
}